@import "tailwindcss";

:root {
  --color-bg: #0d1117;
  --color-surface: #161b22;
  --color-border: #30363d;
  --color-text: #e6edf3;
  --color-muted: #7d8590;
  --color-user: #388bfd;
  --color-assistant: #3fb950;
  --color-tool: #d2a8ff;
  --color-summary: #f0883e;
  --color-summary-d1: #ff7b72;
  --color-summary-d2: #ffdcd7;
  --color-summary-d3: #d2a8ff;
  --color-summary-d4: #79c0ff;
  --color-fresh: #56d364;
  --color-budget: #388bfd;
  --color-budget-warn: #f0883e;
  --color-budget-over: #ff7b72;

  --panel-sticky-height: 100vh;
  --scene-side-padding: 3.5rem;
  --scene-step-height: 80vh;
  --scene-first-height: 100vh;
  --scene-first-top-padding: 2.25rem;
  --scene-scrub-height: 220vh;
  --scene-scrub-sticky-top: 38vh;
  --scene-trad-end-spacer: 20vh;
  --scene-end-spacer: 40vh;
  --shared-panel-padding: 1.25rem 2.5rem 1.25rem 1rem;
  --shared-context-max-height: 70vh;
  --shared-dag-height: 40%;
  --shared-dag-height-with-tool: 48%;
  --shared-dag-height-focus: 80%;
  --shared-tool-height: 44%;
}

* {
  box-sizing: border-box;
}

html {
  scroll-behavior: auto;
}

body {
  background-color: var(--color-bg);
  color: var(--color-text);
  font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace;
  margin: 0;
  min-width: 320px;
}

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--color-bg); }
::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 3px; }

/* DAG SVG: pixel-precise on desktop, scale-to-fit on mobile */
.dag-svg {
  max-width: none;
}

@media (max-width: 767px) {
  .dag-svg {
    max-width: 100%;
    height: auto !important;
  }
  :root {
    --panel-sticky-height: 50vh;
    --scene-side-padding: 1rem;
    --scene-step-height: 60vh;
    --scene-first-height: 80vh;
    --scene-first-top-padding: 1.25rem;
    --scene-scrub-height: 170vh;
    --scene-scrub-sticky-top: 52vh;
    --scene-trad-end-spacer: 12vh;
    --scene-end-spacer: 22vh;
    --shared-panel-padding: 0.75rem;
    --shared-context-max-height: 54vh;
    --shared-dag-height: 42%;
    --shared-dag-height-with-tool: 48%;
    --shared-dag-height-focus: 84%;
    --shared-tool-height: 40%;
  }
}
